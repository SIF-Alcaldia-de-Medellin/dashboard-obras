import{r as u,b,j as t}from"./index-C1tNdUK3.js";const y=({data:n,className:i})=>{const o=Object.values(n.reduce((e,s)=>{const a=s.attributes.NUMERO_CON,x=s.attributes.OBJETO,c=s.attributes.TIPO_CONTR,d=s.attributes.VIGENCIA,h=s.attributes.FECHA_INIC,p=s.attributes.FECHA_DE_T,m=s.attributes.VALOR_ACTU,j=s.attributes.ACTIVIDAD;return e[a]||(e[a]={numeroContrato:a,objeto:x,tipoContrato:c,vigencia:d,fechaInicio:new Date(h).toLocaleDateString(),fechaFinalizacion:new Date(p).toLocaleDateString(),frentesObra:0,valorTotal:0,actividades:new Set}),c=="Obra"&&(e[a].frentesObra+=1),e[a].valorTotal+=m,e[a].actividades.add(j),e},{})).sort((e,s)=>s.frentesObra-e.frentesObra),{filters:l,setFilter:r}=u.useContext(b);return t.jsx("div",{className:`rounded-2xl ${i}`,children:t.jsxs("table",{className:"table-fixed border rounded-2xl overflow-hidden",children:[t.jsx("thead",{className:"bg-blue-sky-400 text-white paragraph font-bold uppercase sticky",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-center",children:"Número Contrato"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Objeto"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Tipo"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Vigencia"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Fecha Inicio"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Fecha Finalización"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Total Frentes de obra"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Valor Total (COP)"}),t.jsx("th",{className:"px-4 py-2 text-center",children:"Actividades"})]})}),t.jsx("tbody",{children:o.map((e,s)=>t.jsxs("tr",{className:`${s%2==0?"bg-blue-sky-100":"bg-blue-sky-200"} hover:bg-blue-sky-800 hover:text-white transition`,onClick:a=>{l.numero_contrato?r("numero_contrato",void 0):r("numero_contrato",e.numeroContrato||void 0)},children:[t.jsx("td",{className:"px-4 py-2 text-sm w-fit",children:e.numeroContrato}),t.jsx("td",{className:"px-4 py-2 text-sm max-w-xs truncate",title:e.objeto,children:e.objeto}),t.jsx("td",{className:"px-4 py-2 text-sm",children:e.tipoContrato}),t.jsx("td",{className:"px-4 py-2 text-sm",children:e.vigencia}),t.jsx("td",{className:"px-4 py-2 text-sm",children:e.fechaInicio}),t.jsx("td",{className:"px-4 py-2 text-sm",children:e.fechaFinalizacion}),t.jsx("td",{className:"px-4 py-2 text-sm text-right",children:e.frentesObra}),t.jsx("td",{className:"px-4 py-2 text-sm text-right",children:e.valorTotal.toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0})}),t.jsx("td",{className:"px-4 py-2 text-sm max-w-3xs truncate",title:[...e.actividades].join(", ").toLowerCase(),children:[...e.actividades].join(", ").toLowerCase()})]},s))})]})})};export{y as default};
